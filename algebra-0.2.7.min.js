function mathSign(t){return 0===(t=+t)||isNaN(t)?Number(t):0<t?1:-1}!function(t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).algebra=t()}(function(){return function n(i,o,s){function a(r,t){if(!o[r]){if(!i[r]){var e="function"==typeof require&&require;if(!t&&e)return e(r,!0);if(u)return u(r,!0);t=new Error("Cannot find module '"+r+"'");throw t.code="MODULE_NOT_FOUND",t}e=o[r]={exports:{}};i[r][0].call(e.exports,function(t){var e=i[r][1][t];return a(e||t)},e,e.exports,n,i,o,s)}return o[r].exports}for(var u="function"==typeof require&&require,t=0;t<s.length;t++)a(s[t]);return a}({1:[function(t,e,r){var n=t("./src/fractions"),i=t("./src/expressions").Expression,o=t("./src/equations"),s=t("./src/parser");e.exports={Fraction:n,Expression:i,Equation:o,parse:function(t){return(new s).parse(t)},toTex:function(t){return t instanceof n||t instanceof i||t instanceof o?t.toTex():t instanceof Array?t.map(function(t){return t instanceof n?t.toTex():t.toString()}).join():t.toString()}}},{"./src/equations":2,"./src/expressions":3,"./src/fractions":4,"./src/parser":7}],2:[function(t,e,r){function n(t,e){if(!(t instanceof g))throw new TypeError("Invalid Argument ("+t.toString()+"): Left-hand side must be of type Expression.");if(this.lhs=t,e instanceof g)this.rhs=e;else{if(!(e instanceof _||i(e)))throw new TypeError("Invalid Argument ("+e.toString()+"): Right-hand side must be of type Expression, Fraction or Integer.");this.rhs=new g(e)}}var g=t("./expressions").Expression,b=t("./expressions").Variable,w=t("./expressions").Term,_=t("./fractions"),i=t("./helper").isInt;n.prototype.solveFor=function(t){if(!this.lhs._hasVariable(t)&&!this.rhs._hasVariable(t))throw new TypeError("Invalid Argument ("+t.toString()+"): Variable does not exist in the equation.");var e,r,n,i,o,s,a,u,c,p,h,f;if(this._isLinear()||this._variableCanBeIsolated(t)){for(var l=new w(new b(t)),m=new g,d=new g,v=0;v<this.rhs.terms.length;v++)(y=this.rhs.terms[v]).canBeCombinedWith(l)?m=m.subtract(y):d=d.add(y);for(var y,v=0;v<this.lhs.terms.length;v++)(y=this.lhs.terms[v]).canBeCombinedWith(l)?m=m.add(y):d=d.subtract(y);return(d=(d=d.subtract(this.lhs.constant())).add(this.rhs.constant()),0!==m.terms.length)?0===(d=d.divide(m.terms[0].coefficient())).terms.length?d.constant().reduce():(d._sort(),d):m.constant().equalTo(d.constant())?new _(1,1):void 0}return 0!==(m=(m=this.lhs.copy()).subtract(this.rhs)).terms.length?this._isQuadratic(t)?(e=(c=m._quadraticCoefficients()).a,r=c.b,n=c.c,0<=(i=r.pow(2).subtract(e.multiply(n).multiply(4))).valueOf()?0===i.valueOf()?[r.multiply(-1).divide(e.multiply(2)).reduce()]:i._squareRootIsRational()?(o=i.pow(.5),a=r.multiply(-1).subtract(o).divide(e.multiply(2)),u=r.multiply(-1).add(o).divide(e.multiply(2)),[a.reduce(),u.reduce()]):(o=Math.sqrt(i.valueOf()),e=e.valueOf(),[a=(-(r=r.valueOf())-o)/(2*e),u=(-r+o)/(2*e)]):[]):this._isCubic(t)?(e=(c=m._cubicCoefficients()).a,r=c.b,n=c.c,i=c.d,o=(o=(o=(o=(o=e.multiply(r).multiply(n).multiply(i).multiply(18)).subtract(r.pow(3).multiply(i).multiply(4))).add(r.pow(2).multiply(n.pow(2)))).subtract(e.multiply(n.pow(3)).multiply(4))).subtract(e.pow(2).multiply(i.pow(2)).multiply(27)),t=r.pow(2).subtract(e.multiply(n).multiply(3)),0===o.valueOf()?0===t.valueOf()?[(a=r.multiply(-1).divide(e.multiply(3))).reduce()]:(a=(a=(a=(a=e.multiply(r).multiply(n).multiply(4)).subtract(e.pow(2).multiply(i).multiply(9))).subtract(r.pow(3))).divide(e.multiply(t)),u=e.multiply(i).multiply(9).subtract(r.multiply(n)).divide(t.multiply(2)),[a.reduce(),u.reduce()]):(c=(n/e*3-Math.pow(r,2)/Math.pow(e,2))/3,o=2*Math.pow(r,3)/Math.pow(e,3),o-=9*r*n/Math.pow(e,2),o=(o+27*i/e)/27,0<(t=Math.pow(o,2)/4+Math.pow(c,3)/27)?(n=-o/2+Math.sqrt(t),i=Math.cbrt(n),c=-o/2-Math.sqrt(t),(a=i+Math.cbrt(c)-r/(3*e))<0?a-(p=Math.floor(a))<1e-15&&(a=p):0<a&&(p=Math.ceil(a))-a<1e-15&&(a=p),[a]):(v=Math.sqrt(Math.pow(o,2)/4-t),n=Math.cbrt(v),i=Math.acos(-o/(2*v)),u=(c=-n)*((t=Math.cos(i/3))+(o=Math.sqrt(3)*Math.sin(i/3)))+(s=-r/(3*e)),c=c*(t-o)+s,(a=2*n*Math.cos(i/3)-r/(3*e))<0?a-(p=Math.floor(a))<1e-15&&(a=p):0<a&&(p=Math.ceil(a))-a<1e-15&&(a=p),u<0?u-(h=Math.floor(u))<1e-15&&(u=h):0<u&&(h=Math.ceil(u))-u<1e-15&&(u=h),a<0?c-(f=Math.floor(c))<1e-15&&(c=f):0<c&&(f=Math.ceil(c))-c<1e-15&&(c=f),(t=[a,u,c]).sort(function(t,e){return t-e}),[t[0],t[1],t[2]]))):void 0:0===m.constant().valueOf()?[new _(1,1)]:void 0},n.prototype.eval=function(t){return new n(this.lhs.eval(t),this.rhs.eval(t))},n.prototype.toString=function(){return this.lhs.toString()+" = "+this.rhs.toString()},n.prototype.toTex=function(){return this.lhs.toTex()+" = "+this.rhs.toTex()},n.prototype._maxDegree=function(){var t=this.lhs._maxDegree(),e=this.rhs._maxDegree();return Math.max(t,e)},n.prototype._maxDegreeOfVariable=function(t){return Math.max(this.lhs._maxDegreeOfVariable(t),this.rhs._maxDegreeOfVariable(t))},n.prototype._variableCanBeIsolated=function(t){return 1===this._maxDegreeOfVariable(t)&&this._noCrossProductsWithVariable(t)},n.prototype._noCrossProductsWithVariable=function(t){return this.lhs._noCrossProductsWithVariable(t)&&this.rhs._noCrossProductsWithVariable(t)},n.prototype._noCrossProducts=function(){return this.lhs._noCrossProducts()&&this.rhs._noCrossProducts()},n.prototype._onlyHasVariable=function(t){return this.lhs._onlyHasVariable(t)&&this.rhs._onlyHasVariable(t)},n.prototype._isLinear=function(){return 1===this._maxDegree()&&this._noCrossProducts()},n.prototype._isQuadratic=function(t){return 2===this._maxDegree()&&this._onlyHasVariable(t)},n.prototype._isCubic=function(t){return 3===this._maxDegree()&&this._onlyHasVariable(t)},e.exports=n},{"./expressions":3,"./fractions":4,"./helper":5}],3:[function(t,e,r){function l(t){if(this.constants=[],"string"==typeof t){var e=new s(t),e=new Term(e);this.terms=[e]}else if(d(t))this.constants=[new m(t,1)],this.terms=[];else if(t instanceof m)this.constants=[t],this.terms=[];else if(t instanceof Term)this.terms=[t];else{if(void 0!==t)throw new TypeError("Invalid Argument ("+t.toString()+"): Argument must be of type String, Integer, Fraction or Term.");this.terms=[]}}var m=t("./fractions"),d=t("./helper").isInt,n=t("./helper").GREEK_LETTERS,s=(l.prototype.constant=function(){return this.constants.reduce(function(t,e){return t.add(e)},new m(0,1))},l.prototype.simplify=function(){var t=this.copy();return t.terms=t.terms.map(function(t){return t.simplify()}),t._sort(),t._combineLikeTerms(),t._moveTermsWithDegreeZeroToConstants(),t._removeTermsWithCoefficientZero(),t.constants=0===t.constant().valueOf()?[]:[t.constant()],t},l.prototype.copy=function(){var t=new l;return t.constants=this.constants.map(function(t){return t.copy()}),t.terms=this.terms.map(function(t){return t.copy()}),t},l.prototype.add=function(t,e){var r,n=this.copy();if("string"==typeof t||t instanceof Term||d(t)||t instanceof m)return r=new l(t),n.add(r,e);if(t instanceof l)return r=t.copy().terms,n.terms=n.terms.concat(r),n.constants=n.constants.concat(t.constants),n._sort(),e||void 0===e?n.simplify():n;throw new TypeError("Invalid Argument ("+t.toString()+"): Summand must be of type String, Expression, Term, Fraction or Integer.")},l.prototype.subtract=function(t,e){t=(t instanceof l?t:new l(t)).multiply(-1);return this.add(t,e)},l.prototype.multiply=function(t,e){var r,n=this.copy();if("string"==typeof t||t instanceof Term||d(t)||t instanceof m)return r=new l(t),n.multiply(r,e);if(!(t instanceof l))throw new TypeError("Invalid Argument ("+t.toString()+"): Multiplicand must be of type String, Expression, Term, Fraction or Integer.");for(var i=t.copy(),o=[],s=0;s<n.terms.length;s++){for(var a=n.terms[s],u=0;u<i.terms.length;u++){var c=i.terms[u];o.push(a.multiply(c,e))}for(u=0;u<i.constants.length;u++)o.push(a.multiply(i.constants[u],e))}for(s=0;s<i.terms.length;s++)for(c=i.terms[s],u=0;u<n.constants.length;u++)o.push(c.multiply(n.constants[u],e));for(s=0;s<n.constants.length;s++)for(var p=n.constants[s],u=0;u<i.constants.length;u++){var h=i.constants[u],f=new Term;f=(f=f.multiply(h,!1)).multiply(p,!1),o.push(f)}return n.constants=[],n.terms=o,n._sort(),e||void 0===e?n.simplify():n},l.prototype.divide=function(e,r){if(e instanceof m||d(e)){if(0===e.valueOf())throw new EvalError("Divide By Zero");for(var t=this.copy(),n=0;n<t.terms.length;n++)for(var i=t.terms[n],o=0;o<i.coefficients.length;o++)i.coefficients[o]=i.coefficients[o].divide(e,r);return t.constants=t.constants.map(function(t){return t.divide(e,r)}),t}throw new TypeError("Invalid Argument ("+e.toString()+"): Divisor must be of type Fraction or Integer.")},l.prototype.pow=function(t,e){if(d(t)){var r=this.copy();if(0===t)return(new l).add(1);for(var n=1;n<t;n++)r=r.multiply(this,e);return r._sort(),e||void 0===e?r.simplify():r}throw new TypeError("Invalid Argument ("+t.toString()+"): Exponent must be of type Integer.")},l.prototype.eval=function(r,n){var t=new l;return t.constants=n?[this.constant()]:this.constants.slice(),t=this.terms.reduce(function(t,e){return t.add(e.eval(r,n),n)},t)},l.prototype.summation=function(t,e,r,n){for(var i=this.copy(),o=new l,s=e;s<r+1;s++){var a={};a[t]=s,o=o.add(i.eval(a,n),n)}return o},l.prototype.toString=function(){for(var t="",e=0;e<this.terms.length;e++){var r=this.terms[e];t+=(r.coefficients[0].valueOf()<0?" - ":" + ")+r.toString()}for(e=0;e<this.constants.length;e++){var n=this.constants[e];t+=(n.valueOf()<0?" - ":" + ")+n.abs().toString()}return" - "===t.substring(0,3)?"-"+t.substring(3,t.length):" + "===t.substring(0,3)?t.substring(3,t.length):"0"},l.prototype.toTex=function(t){for(var e="",r=0;r<this.terms.length;r++){var n=this.terms[r];e+=(n.coefficients[0].valueOf()<0?" - ":" + ")+n.toTex(t)}for(r=0;r<this.constants.length;r++){var i=this.constants[r];e+=(i.valueOf()<0?" - ":" + ")+i.abs().toTex()}return" - "===e.substring(0,3)?"-"+e.substring(3,e.length):" + "===e.substring(0,3)?e.substring(3,e.length):"0"},l.prototype._removeTermsWithCoefficientZero=function(){return this.terms=this.terms.filter(function(t){return 0!==t.coefficient().reduce().numer}),this},l.prototype._combineLikeTerms=function(){for(var t=[],e=[],r=0;r<this.terms.length;r++){var n=this.terms[r];if(!function(t,e){for(var r=0;r<e.length;r++)if(t.canBeCombinedWith(e[r]))return 1}(n,e)){for(var i=r+1;i<this.terms.length;i++){var o=this.terms[i];n.canBeCombinedWith(o)&&(n=n.add(o))}t.push(n),e.push(n)}}return this.terms=t,this},l.prototype._moveTermsWithDegreeZeroToConstants=function(){for(var t=[],e=new m(0,1),r=0;r<this.terms.length;r++){var n=this.terms[r];0===n.variables.length?e=e.add(n.coefficient()):t.push(n)}return this.constants.push(e),this.terms=t,this},l.prototype._sort=function(){return this.terms=this.terms.sort(function(t,e){var r=t.maxDegree(),n=e.maxDegree();return r===n?(t=t.variables.length,e.variables.length-t):n-r}),this},l.prototype._hasVariable=function(t){for(var e=0;e<this.terms.length;e++)if(this.terms[e].hasVariable(t))return!0;return!1},l.prototype._onlyHasVariable=function(t){for(var e=0;e<this.terms.length;e++)if(!this.terms[e].onlyHasVariable(t))return!1;return!0},l.prototype._noCrossProductsWithVariable=function(t){for(var e=0;e<this.terms.length;e++){var r=this.terms[e];if(r.hasVariable(t)&&!r.onlyHasVariable(t))return!1}return!0},l.prototype._noCrossProducts=function(){for(var t=0;t<this.terms.length;t++)if(1<this.terms[t].variables.length)return!1;return!0},l.prototype._maxDegree=function(){return this.terms.reduce(function(t,e){return Math.max(t,e.maxDegree())},1)},l.prototype._maxDegreeOfVariable=function(r){return this.terms.reduce(function(t,e){return Math.max(t,e.maxDegreeOfVariable(r))},1)},l.prototype._quadraticCoefficients=function(){for(var t=new m(0,1),e=0;e<this.terms.length;e++)var r=this.terms[e],n=2===r.maxDegree()?r.coefficient().copy():n,t=1===r.maxDegree()?r.coefficient().copy():t;return{a:n,b:t,c:this.constant()}},l.prototype._cubicCoefficients=function(){for(var t=new m(0,1),e=new m(0,1),r=0;r<this.terms.length;r++)var n=this.terms[r],i=3===n.maxDegree()?n.coefficient().copy():i,t=2===n.maxDegree()?n.coefficient().copy():t,e=1===n.maxDegree()?n.coefficient().copy():e;return{a:i,b:t,c:e,d:this.constant()}},(Term=function(t){if(t instanceof s)this.variables=[t.copy()];else{if(void 0!==t)throw new TypeError("Invalid Argument ("+t.toString()+"): Term initializer must be of type Variable.");this.variables=[]}this.coefficients=[new m(1,1)]}).prototype.coefficient=function(){return this.coefficients.reduce(function(t,e){return t.multiply(e)},new m(1,1))},Term.prototype.simplify=function(){var t=this.copy();return t.coefficients=[this.coefficient()],t.combineVars(),t.sort()},Term.prototype.combineVars=function(){for(var t={},e=0;e<this.variables.length;e++){var r=this.variables[e];r.variable in t?t[r.variable]+=r.degree:t[r.variable]=r.degree}var n,i=[];for(n in t){var o=new s(n);o.degree=t[n],i.push(o)}return this.variables=i,this},Term.prototype.copy=function(){var t=new Term;return t.coefficients=this.coefficients.map(function(t){return t.copy()}),t.variables=this.variables.map(function(t){return t.copy()}),t},Term.prototype.add=function(t){var e;if(t instanceof Term&&this.canBeCombinedWith(t))return(e=this.copy()).coefficients=[e.coefficient().add(t.coefficient())],e;throw new TypeError("Invalid Argument ("+t.toString()+"): Summand must be of type String, Expression, Term, Fraction or Integer.")},Term.prototype.subtract=function(t){var e;if(t instanceof Term&&this.canBeCombinedWith(t))return(e=this.copy()).coefficients=[e.coefficient().subtract(t.coefficient())],e;throw new TypeError("Invalid Argument ("+t.toString()+"): Subtrahend must be of type String, Expression, Term, Fraction or Integer.")},Term.prototype.multiply=function(t,e){var r=this.copy();if(t instanceof Term)r.variables=r.variables.concat(t.variables),r.coefficients=t.coefficients.concat(r.coefficients);else{if(!(d(t)||t instanceof m))throw new TypeError("Invalid Argument ("+t.toString()+"): Multiplicand must be of type String, Expression, Term, Fraction or Integer.");t=d(t)?new m(t,1):t;0===r.variables.length?r.coefficients.push(t):r.coefficients.unshift(t)}return e||void 0===e?r.simplify():r},Term.prototype.divide=function(e,r){var t;if(d(e)||e instanceof m)return(t=this.copy()).coefficients=t.coefficients.map(function(t){return t.divide(e,r)}),t;throw new TypeError("Invalid Argument ("+e.toString()+"): Argument must be of type Fraction or Integer.")},Term.prototype.eval=function(t,r){for(var e=this.copy(),n=(Object.keys(t),e.coefficients.reduce(function(t,e){return t.multiply(e,r)},new l(1))),i=0;i<e.variables.length;i++){var o,s=e.variables[i];if(s.variable in t){var a=t[s.variable];if(a instanceof m||a instanceof l)o=a.pow(s.degree);else{if(!d(a))throw new TypeError("Invalid Argument ("+a+"): Can only evaluate Expressions or Fractions.");o=Math.pow(a,s.degree)}}else o=new l(s.variable).pow(s.degree);n=n.multiply(o,r)}return n},Term.prototype.hasVariable=function(t){for(var e=0;e<this.variables.length;e++)if(this.variables[e].variable===t)return!0;return!1},Term.prototype.maxDegree=function(){return this.variables.reduce(function(t,e){return Math.max(t,e.degree)},1)},Term.prototype.maxDegreeOfVariable=function(r){return this.variables.reduce(function(t,e){return e.variable===r?Math.max(t,e.degree):t},1)},Term.prototype.canBeCombinedWith=function(t){var e=this.variables,r=t.variables;if(e.length!=r.length)return!1;for(var n=0,i=0;i<e.length;i++)for(var o=0;o<r.length;o++)e[i].variable===r[o].variable&&e[i].degree===r[o].degree&&(n+=1);return n===e.length},Term.prototype.onlyHasVariable=function(t){for(var e=0;e<this.variables.length;e++)if(this.variables[e].variable!=t)return!1;return!0},Term.prototype.sort=function(){return this.variables=this.variables.sort(function(t,e){return e.degree-t.degree}),this},Term.prototype.toString=function(){for(var t="",e=0;e<this.coefficients.length;e++){var r=this.coefficients[e];1===r.abs().numer&&1===r.abs().denom||(t+=" * "+r.toString())}return t="-"===(t=" * "===(t=this.variables.reduce(function(t,e){return t.concat(e.toString())},t)).substring(0,3)?t.substring(3,t.length):t).substring(0,1)?t.substring(1,t.length):t},Term.prototype.toTex=function(t){(t=void 0===t?{}:t).multiplication="multiplication"in t?t.multiplication:"cdot";for(var e=" \\"+t.multiplication+" ",r="",n=0;n<this.coefficients.length;n++){var i=this.coefficients[n];1===i.abs().numer&&1===i.abs().denom||(r+=e+i.toTex())}return r="\\frac{-"===(r="-"===(r=(r=this.variables.reduce(function(t,e){return t.concat(e.toTex())},r)).substring(0,e.length)===e?r.substring(e.length,r.length):r).substring(0,1)?r.substring(1,r.length):r).substring(0,7)?"\\frac{"+r.substring(7,r.length):r},function(t){if("string"!=typeof t)throw new TypeError("Invalid Argument ("+t.toString()+"): Variable initalizer must be of type String.");this.variable=t,this.degree=1});s.prototype.copy=function(){var t=new s(this.variable);return t.degree=this.degree,t},s.prototype.toString=function(){var t=this.degree,e=this.variable;return 0===t?"":1===t?e:e+"^"+t},s.prototype.toTex=function(){var t=this.degree,e=this.variable;return-1<n.indexOf(e)&&(e="\\"+e),0===t?"":1===t?e:e+"^{"+t+"}"},e.exports={Expression:l,Term:Term,Variable:s}},{"./fractions":4,"./helper":5}],4:[function(t,e,r){function s(t,e){if(0===e)throw new EvalError("Divide By Zero");if(!a(t)||!a(e))throw new TypeError("Invalid Argument ("+t.toString()+","+e.toString()+"): Divisor and dividend must be of type Integer.");this.numer=t,this.denom=e}var a=t("./helper").isInt,n=t("./helper").gcd,u=t("./helper").lcm;s.prototype.copy=function(){return new s(this.numer,this.denom)},s.prototype.reduce=function(){var t=this.copy(),e=n(t.numer,t.denom);return t.numer=t.numer/e,t.denom=t.denom/e,-1==mathSign(t.denom)&&1==mathSign(t.numer)&&(t.numer*=-1,t.denom*=-1),t},s.prototype.equalTo=function(t){var e;return t instanceof s&&(e=this.reduce(),t=t.reduce(),e.numer===t.numer)&&e.denom===t.denom},s.prototype.add=function(t,e){var r,n;if(e=void 0===e||e,t instanceof s)r=t.numer,n=t.denom;else{if(!a(t))throw new TypeError("Invalid Argument ("+t.toString()+"): Summand must be of type Fraction or Integer.");r=t,n=1}var i,o,t=this.copy();return this.denom==n?t.numer+=r:(i=(o=u(t.denom,n))/t.denom,o=o/n,t.numer*=i,t.denom*=i,t.numer+=r*=o),e?t.reduce():t},s.prototype.subtract=function(t,e){e=void 0===e||e;var r=this.copy();if(t instanceof s)return r.add(new s(-t.numer,t.denom),e);if(a(t))return r.add(new s(-t,1),e);throw new TypeError("Invalid Argument ("+t.toString()+"): Subtrahend must be of type Fraction or Integer.")},s.prototype.multiply=function(t,e){var r,n;if(e=void 0===e||e,t instanceof s)r=t.numer,n=t.denom;else{if(a(t)&&t)r=t;else{if(0!==t)throw new TypeError("Invalid Argument ("+t.toString()+"): Multiplicand must be of type Fraction or Integer.");r=0}n=1}t=this.copy();return t.numer*=r,t.denom*=n,e?t.reduce():t},s.prototype.divide=function(t,e){if(e=void 0===e||e,0===t.valueOf())throw new EvalError("Divide By Zero");var r=this.copy();if(t instanceof s)return r.multiply(new s(t.denom,t.numer),e);if(a(t))return r.multiply(new s(1,t),e);throw new TypeError("Invalid Argument ("+t.toString()+"): Divisor must be of type Fraction or Integer.")},s.prototype.pow=function(t,e){e=void 0===e||e;var r=this.copy();return r.numer=Math.pow(r.numer,t),r.denom=Math.pow(r.denom,t),e?r.reduce():r},s.prototype.abs=function(){var t=this.copy();return t.numer=Math.abs(t.numer),t.denom=Math.abs(t.denom),t},s.prototype.valueOf=function(){return this.numer/this.denom},s.prototype.toString=function(){return 0===this.numer?"0":1===this.denom?this.numer.toString():-1===this.denom?(-this.numer).toString():this.numer+"/"+this.denom},s.prototype.toTex=function(){return 0===this.numer?"0":1===this.denom?this.numer.toString():-1===this.denom?(-this.numer).toString():"\\frac{"+this.numer+"}{"+this.denom+"}"},s.prototype._squareRootIsRational=function(){var t,e;return 0===this.valueOf()||(t=Math.sqrt(this.numer),e=Math.sqrt(this.denom),a(t)&&a(e))},s.prototype._cubeRootIsRational=function(){var t,e;return 0===this.valueOf()||(t=Math.cbrt(this.numer),e=Math.cbrt(this.denom),a(t)&&a(e))},e.exports=s},{"./helper":5}],5:[function(t,e,r){function n(t,e){for(;e;)e=t%(t=e);return t}r.gcd=n,r.lcm=function(t,e){return t*e/n(t,e)},r.isInt=function(t){return"number"==typeof t&&t%1==0},r.round=function(t,e){return e=void 0===e?2:e,e=Math.pow(10,e),Math.round(parseFloat(t)*e)/e},r.GREEK_LETTERS=["alpha","beta","gamma","Gamma","delta","Delta","epsilon","varepsilon","zeta","eta","theta","vartheta","Theta","iota","kappa","lambda","Lambda","mu","nu","xi","Xi","pi","Pi","rho","varrho","sigma","Sigma","tau","upsilon","Upsilon","phi","varphi","Phi","chi","psi","Psi","omega","Omega"]},{}],6:[function(t,e,r){"use strict";function n(){this.pos=0,this.buf=null,this.buflen=0,this.optable={"+":"PLUS","-":"MINUS","*":"MULTIPLY","/":"DIVIDE","^":"POWER","(":"L_PAREN",")":"R_PAREN","=":"EQUALS"}}n.prototype.input=function(t){this.pos=0,this.buf=t,this.buflen=t.length},n.prototype.token=function(){if(this._skipnontokens(),this.pos>=this.buflen)return null;var t=this.buf.charAt(this.pos),e=this.optable[t];if(void 0!==e)return"L_PAREN"===e||"R_PAREN"===e?{type:"PAREN",value:e,pos:this.pos++}:{type:"OPERATOR",value:e,pos:this.pos++};if(n._isalpha(t))return this._process_identifier();if(n._isdigit(t))return this._process_number();throw new SyntaxError("Token error at character "+t+" at position "+this.pos)},n._isdigit=function(t){return"0"<=t&&t<="9"},n._isalpha=function(t){return"a"<=t&&t<="z"||"A"<=t&&t<="Z"},n._isalphanum=function(t){return"a"<=t&&t<="z"||"A"<=t&&t<="Z"||"0"<=t&&t<="9"},n.prototype._process_digits=function(t){for(var e=t;e<this.buflen&&n._isdigit(this.buf.charAt(e));)e++;return e},n.prototype._process_number=function(){var t=this._process_digits(this.pos);if("."===this.buf.charAt(t)&&(t=this._process_digits(t+1)),"."===this.buf.charAt(t-1))throw new SyntaxError("Decimal point without decimal digits at position "+(t-1));var e={type:"NUMBER",value:this.buf.substring(this.pos,t),pos:this.pos};return this.pos=t,e},n.prototype._process_identifier=function(){for(var t=this.pos+1;t<this.buflen&&n._isalphanum(this.buf.charAt(t));)t++;var e={type:"IDENTIFIER",value:this.buf.substring(this.pos,t),pos:this.pos};return this.pos=t,e},n.prototype._skipnontokens=function(){for(;this.pos<this.buflen;){var t=this.buf.charAt(this.pos);if(" "!=t&&"\t"!=t&&"\r"!=t&&"\n"!=t)break;this.pos++}},e.exports=n},{}],7:[function(t,e,r){"use strict";function n(){this.lexer=new i,this.current_token=null}var i=t("./lexer"),o=t("./expressions").Expression,s=t("./fractions"),a=t("./equations");n.prototype.update=function(){this.current_token=this.lexer.token()},n.prototype.match=function(t){if(null===this.current_token)return"epsilon"===t;switch(t){case"plus":return"OPERATOR"===this.current_token.type&&"PLUS"===this.current_token.value;case"minus":return"OPERATOR"===this.current_token.type&&"MINUS"===this.current_token.value;case"multiply":return"OPERATOR"===this.current_token.type&&"MULTIPLY"===this.current_token.value;case"power":return"OPERATOR"===this.current_token.type&&"POWER"===this.current_token.value;case"divide":return"OPERATOR"===this.current_token.type&&"DIVIDE"===this.current_token.value;case"equal":return"OPERATOR"===this.current_token.type&&"EQUALS"===this.current_token.value;case"lparen":return"PAREN"===this.current_token.type&&"L_PAREN"===this.current_token.value;case"rparen":return"PAREN"===this.current_token.type&&"R_PAREN"===this.current_token.value;case"num":return"NUMBER"===this.current_token.type;case"id":return"IDENTIFIER"===this.current_token.type;default:return!1}},n.prototype.parse=function(t){return this.lexer.input(t),this.update(),this.parseEqn()},n.prototype.parseEqn=function(){var t,e=this.parseExpr();if(this.match("equal"))return this.update(),t=this.parseExpr(),new a(e,t);if(this.match("epsilon"))return e;throw new SyntaxError("Unbalanced Parenthesis")},n.prototype.parseExpr=function(){var t=this.parseTerm();return this.parseExprRest(t)},n.prototype.parseExprRest=function(t){if(this.match("plus")){this.update();var e=this.parseTerm();if(void 0===t||void 0===e)throw new SyntaxError("Missing operand");return this.parseExprRest(t.add(e))}return this.match("minus")?(this.update(),e=this.parseTerm(),void 0===t?this.parseExprRest(e.multiply(-1)):this.parseExprRest(t.subtract(e))):t},n.prototype.parseTerm=function(){var t=this.parseFactor();return this.parseTermRest(t)},n.prototype.parseTermRest=function(t){var e;return this.match("multiply")?(this.update(),e=this.parseFactor(),t.multiply(this.parseTermRest(e))):this.match("power")?(this.update(),e=this.parseFactor(),this.parseTermRest(t.pow(parseInt(e.toString())))):this.match("divide")?(this.update(),e=this.parseFactor(),this.parseTermRest(t.divide(this.convertToFraction(e)))):this.match("epsilon")||void 0===(e=this.parseFactor())?t:t.multiply(this.parseTermRest(e))},n.prototype.convertToFraction=function(t){if(0<t.terms.length)throw new TypeError("Invalid Argument ("+t.toString()+"): Divisor must be of type Integer or Fraction.");return t=t.constants[0],new s(t.numer,t.denom)},n.prototype.parseFactor=function(){if(this.match("num"))return t=this.parseNumber(),this.update(),t;if(this.match("id"))return t=new o(this.current_token.value),this.update(),t;if(this.match("lparen")){this.update();var t=this.parseExpr();if(this.match("rparen"))return this.update(),t;throw new SyntaxError("Unbalanced Parenthesis")}},n.prototype.parseNumber=function(){var t,e;return parseInt(this.current_token.value)==this.current_token.value?new o(parseInt(this.current_token.value)):(t=this.current_token.value.split(".")[1].length,t=Math.pow(10,t),e=parseFloat(this.current_token.value),new o(parseInt(e*t)).divide(t))},e.exports=n},{"./equations":2,"./expressions":3,"./fractions":4,"./lexer":6}]},{},[1])(1)});